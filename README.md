## 项目介绍

**前期的技术选型**：基于 Vue 3 + Spring Boot + COS + WebSocket 的 **企业级云端图库协作平台**。

这个平台的应用场景非常广泛，预期的核心功能可分为 4 大类

1）所有用户都可以在平台公开上传和检索图片素材，快速找到需要的图片。可用作表情包网站、设计素材网站、壁纸网站等：

2）管理员可以上传、审核和管理图片，并对系统内的图片进行分析：

3）对于个人用户，可将图片上传至私有空间进行批量管理、检索、编辑和分析，用作个人网盘、个人相册、作品集等：

4）对于企业，可开通团队空间并邀请成员，共享图片并 **实时协同编辑图片**，提高团队协作效率。可用于提供商业服务，如企业活动相册、企业内部素材库等：

## 第一次提交记录 - 1初始化

1、初始化项目，整合了相关依赖

2、添加通用基础代码，以及示例接口

## 第二次提交记录 - 1初始化补充

1、修正第一次提交记录总CorsConfig类放错了文件夹下

## 第三次提交记录 - 2用户模块

1、完成用户注册功能

## 第四次提交记录 - 2用户模块

1、完成用户登录接口

2、获取当前用户以及用户注销接口

## 第五次提交记录 - 2用户模块

1、完成用户权限控制接口 - 自定义注解 + AOP切面实现

2、用户管理接口 - 包括根据角色类型的用户信息的增删改查等接口

## 第六次提交记录 - 3图片模块

1、COS客户端配置类、COSManager基础操作方法、COS上传、下载测试接口

2、COS图片上传接口

## 第七次提交记录 - 3图片模块

1、图片管理接口 - 包括根据角色类型的图片的增删改查等接口

2、获取预置标签和分类 - 标签和分类是后面用来支持用户根据这些来搜索图片用的

## 第八次提交记录 - 4用户传图模块

1、用户上传图片及审核功能 - 包括数据模型开发、管理员审核功能、审核状态设置、控制内容可见性

## 第九次提交记录 - 4用户传图模块

通过URL导入图片：

    1、旧版service开发，在FileManager中
    2、校验图片URL
    3、新增模板方法模式替换旧版
    4、图片上传服务支持URL上传
    5、实体修改，接口开发

## 第十次提交记录 - 4用户传图模块

批量抓取和创建图片

    1、定义实体、导入jsoup库
    2、批量抓取和创建图片接口和服务
    3、新增名称前缀、图片名称属性来设置批量生成的图片名称

## 第十一次提交记录 - 5图片优化模块
图片查询优化：

    1、新增Redis分布式缓存 - 缓存高频接口
    2、新增Caffeine本地缓存 - 测试不同缓存性能
    3、新增多级缓存 - 结合Redis和Caffeine

## 第十二次提交记录 - 6图片优化模块

图片上传优化 - 图片压缩为webp格式

## 第十三次提交记录 - 6图片优化模块

图片加载优化 - 缩略图优化

## 第十四次提交记录 - 6图片优化模块

图片存储优化

    1、数据沉降 - COS提供生命周期功能
    2、清理策略 - 修改原有删除图片功能，要把云存储的图片也删除
    3、Redis实现分布式session，解决重启服务登陆状态消失

## 第十五次提交记录 - 7空间模块

基础实体创建 + 用户创建私有空间

    1、数据模型、基础服务开发、基础接口
    2、用户创建空间服务 - 本地锁实现

## 第十六次提交记录 - 7空间模块

私有空间权限控制

    1、图片表新增字段
    2、上传和更新图片
    3、删除图片
    4、编辑图片
    5、查询图片

## 第十七次提交记录 - 7空间模块

补充空间模块基本接口 - 还没有完全完善

    1、空间的增删改查功能
    2、新增space_user中间表

## 第十八次提交记录 - 7空间模块

补充空间模块，并修复一些问题

## 第十九次提交记录 - 8图片功能扩展

    1、图片搜索 - 基础属性搜索 & 以图搜图
    2、图片搜索 - 颜色搜索
    3、图片批量管理 - 批量修改信息和批量重命名

## 第二十次提交记录 - 9AI图片编辑

    1、开发模型的异步创建扩图任务和获取扩图结果
    2、修复ai扩图后的url上传图片的问题